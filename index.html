<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JumpHop</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css">
    <!-- Supabase Client for Cloud Database -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
    <div id="app">
        <div class="ui-layer">
            <h1 class="game-title">JUMPHOP</h1>
            <div id="score-container">SCORE: <span id="score">0</span></div>
            <div id="currency-container">
                <div style="font-size: 1rem; font-weight: 700; text-shadow: 0 0 5px rgba(255,255,255,0.5); opacity: 0.8;">HIGH SCORE: <span
                        id="high-score">0</span></div>
                <div class="currency-row">
                    <div class="currency-item coins">ü™ô <span id="coin-count">0</span></div>
                    <div class="currency-item hops">üíé <span id="hops-count">0</span></div>
                </div>
                <div class="menu-buttons-row">
                    <button id="cosmetics-btn" class="cosmetics-top-btn">üé® Cosmetics</button>
                    <button id="season-pass-btn" class="season-pass-top-btn">üìà Rewards</button>
                </div>
            </div>

            <!-- Start screen removed - level select is now the main menu -->

            <div id="settings-btn"
                style="position: absolute; top: 20px; left: 20px; font-size: 2rem; cursor: pointer; pointer-events: all; z-index: 100;">
                ‚öôÔ∏è</div>

            <div id="settings-modal" class="screen">
                <h2>SETTINGS</h2>
                <div class="setting-item">
                    <label>Sound</label>
                    <button id="toggle-music-btn" class="setting-btn">ON</button>
                </div>
                <div class="setting-item">
                    <label>Music Volume</label>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="range" id="music-volume" min="0" max="100" value="1" 
                            style="width: 120px; accent-color: var(--primary-color); pointer-events: all;">
                        <span id="music-volume-display" style="min-width: 35px;">1%</span>
                    </div>
                </div>
                <div class="setting-item">
                    <label>SFX Volume</label>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="range" id="sfx-volume" min="0" max="100" value="25" 
                            style="width: 120px; accent-color: var(--primary-color); pointer-events: all;">
                        <span id="sfx-volume-display" style="min-width: 35px;">25%</span>
                    </div>
                </div>
                <div class="setting-item">
                    <label>Jump Key</label>
                    <button id="bind-jump-btn" class="setting-btn">SPACE</button>
                </div>
                <div class="setting-item">
                    <label>Progress Bar</label>
                    <button id="toggle-progress-btn" class="setting-btn">ON</button>
                </div>
                <div class="setting-item">
                    <label>Ability Key üëë</label>
                    <button id="bind-ability-btn" class="setting-btn">E</button>
                </div>

                <h3 style="margin-top: 2rem; margin-bottom: 1rem; color: var(--primary-color);">Account</h3>
                <div class="setting-item" style="flex-direction: column; align-items: flex-start; gap: 0.5rem;">
                    <label style="font-size: 0.9rem; opacity: 0.7;">Your ID:</label>
                    <div style="display: flex; gap: 10px; width: 100%;">
                        <div id="account-id-display"
                            style="background: rgba(255,255,255,0.1); padding: 5px 10px; border-radius: 4px; flex: 1; font-family: monospace;">
                            ...</div>
                        <button id="copy-account-btn" class="setting-btn"
                            style="padding: 5px 10px; min-width: auto;">Copy</button>
                    </div>
                </div>
                <div class="setting-item" id="change-name-section" style="flex-direction: column; align-items: flex-start; gap: 0.5rem;">
                    <label style="font-size: 0.9rem; opacity: 0.7;">Change Username (one-time):</label>
                    <div style="display: flex; gap: 10px; width: 100%;">
                        <input type="text" id="new-username-input" placeholder="Enter new username" maxlength="20"
                            style="flex: 1; padding: 8px; border-radius: 4px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; font-size: 0.9rem;">
                        <button id="change-username-btn" class="setting-btn" style="padding: 5px 12px; background: linear-gradient(135deg, #ffd700, #ff8c00); color: #000;">Change</button>
                    </div>
                    <p id="change-name-hint" style="font-size: 0.75rem; opacity: 0.5; margin-top: 0.25rem;">‚ö†Ô∏è You can only change your name once!</p>
                </div>
                <div class="setting-item" style="flex-direction: column; align-items: flex-start; gap: 0.5rem;">
                    <label style="font-size: 0.9rem; opacity: 0.7;">Account Security:</label>
                    <div id="password-status" style="font-size: 0.85rem; color: #ff5555;">üîì No password set</div>
                    <button id="set-password-btn" class="setting-btn" style="width: 100%;">Set Password</button>
                </div>
                <div class="setting-item" style="flex-direction: column; align-items: flex-start; gap: 0.5rem;">
                    <label style="font-size: 0.9rem; opacity: 0.7;">Recovery PIN (4-6 digits):</label>
                    <div id="pin-status" style="font-size: 0.85rem; color: #ff5555;">üîì No PIN set</div>
                    <div style="display: flex; gap: 10px; width: 100%;">
                        <input type="password" id="recovery-pin-input" placeholder="Enter 4-6 digit PIN" maxlength="6"
                            style="flex: 1; padding: 8px; border-radius: 4px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; font-size: 0.9rem; text-align: center; letter-spacing: 4px;">
                        <button id="save-pin-btn" class="setting-btn" style="padding: 5px 10px;">Save</button>
                    </div>
                    <p style="font-size: 0.75rem; opacity: 0.5; margin-top: 0.25rem;">Use this PIN to recover your account if you forget your password</p>
                </div>
                <div class="setting-item">
                    <button id="load-account-btn" class="customize-button" style="width: 100%; font-size: 1rem;">Load /
                        Switch Account</button>
                </div>

                <h3 style="margin-top: 2rem; margin-bottom: 1rem; color: #ffd700;">üìä Lifetime Stats</h3>
                <div class="stats-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; border: 1px solid rgba(255,215,0,0.2);">
                    <div class="stat-item">
                        <div style="font-size: 0.75rem; opacity: 0.6; text-transform: uppercase;">Deaths</div>
                        <div id="stat-deaths" style="font-size: 1.3rem; color: #ff5555; font-weight: 700;">0</div>
                    </div>
                    <div class="stat-item">
                        <div style="font-size: 0.75rem; opacity: 0.6; text-transform: uppercase;">Coins Collected</div>
                        <div id="stat-coins" style="font-size: 1.3rem; color: #ffd700; font-weight: 700;">0</div>
                    </div>
                    <div class="stat-item">
                        <div style="font-size: 0.75rem; opacity: 0.6; text-transform: uppercase;">Powerups Used</div>
                        <div id="stat-powerups" style="font-size: 1.3rem; color: #00ff88; font-weight: 700;">0</div>
                    </div>
                    <div class="stat-item">
                        <div style="font-size: 0.75rem; opacity: 0.6; text-transform: uppercase;">Obstacles Cleared</div>
                        <div id="stat-obstacles" style="font-size: 1.3rem; color: #00f3ff; font-weight: 700;">0</div>
                    </div>
                    <div class="stat-item">
                        <div style="font-size: 0.75rem; opacity: 0.6; text-transform: uppercase;">Time Played</div>
                        <div id="stat-time" style="font-size: 1.3rem; color: #ff88ff; font-weight: 700;">0h 0m</div>
                    </div>
                    <div class="stat-item">
                        <div style="font-size: 0.75rem; opacity: 0.6; text-transform: uppercase;">Distance (m)</div>
                        <div id="stat-distance" style="font-size: 1.3rem; color: #88ffff; font-weight: 700;">0</div>
                    </div>
                </div>
                <div id="cloud-sync-status" style="margin-top: 0.75rem; font-size: 0.75rem; opacity: 0.6; text-align: center;">
                    <span id="sync-indicator">‚òÅÔ∏è</span> <span id="sync-text">Local Storage</span>
                </div>

                <button id="close-settings-btn" class="customize-button" style="margin-top: 2rem;">Close</button>
            </div>

            <!-- Create Account Modal (for new players) -->
            <div id="create-account-modal" class="screen">
                <h2>üéÆ Welcome to JumpHop!</h2>
                <p style="opacity: 0.7; margin-bottom: 1.5rem; font-size: 0.9rem;">Choose a username to get started</p>
                <div style="display: flex; flex-direction: column; gap: 1rem; width: 100%; max-width: 300px;">
                    <div>
                        <label style="font-size: 0.85rem; opacity: 0.7; display: block; margin-bottom: 0.5rem; text-align: left;">Username (3-20 characters)</label>
                        <input type="text" id="create-username" placeholder="Enter username" maxlength="20"
                            style="padding: 12px; border-radius: 8px; border: 2px solid rgba(0,243,255,0.3); background: rgba(0,0,0,0.5); color: white; font-size: 1rem; text-align: center; width: 100%;">
                    </div>
                    <div id="create-error" style="color: #ff5555; font-size: 0.85rem; display: none;"></div>
                    <div id="create-success" style="color: #00ff88; font-size: 0.85rem; display: none;"></div>
                    <button id="create-account-btn" class="customize-button" style="margin-top: 1rem;">Create Account</button>
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.1);">
                        <p style="font-size: 0.8rem; opacity: 0.5; margin-bottom: 0.5rem;">Already have an account?</p>
                        <button id="create-switch-btn" class="customize-button" style="background: #444; width: 100%;">Login to Existing Account</button>
                    </div>
                </div>
            </div>

            <!-- Password Modal --><div id="password-modal" class="screen">
                <h2 id="password-modal-title">Set Password</h2>
                <p style="opacity: 0.7; margin-bottom: 1.5rem; font-size: 0.9rem;">Protect your account with a password</p>
                <div style="display: flex; flex-direction: column; gap: 1rem; width: 100%; max-width: 300px;">
                    <div style="position: relative; width: 100%;">
                        <input type="password" id="password-input" placeholder="Enter password (min 4 characters)"
                            style="padding: 12px 45px 12px 12px; border-radius: 8px; border: 2px solid rgba(0,243,255,0.3); background: rgba(0,0,0,0.5); color: white; font-size: 1rem; text-align: center; width: 100%;">
                        <button type="button" class="toggle-password" data-target="password-input" 
                            style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: rgba(0,243,255,0.1); border: 1px solid rgba(0,243,255,0.3); border-radius: 4px; color: #00f3ff; cursor: pointer; font-size: 1.2rem; padding: 4px 8px; pointer-events: all;">üëÅÔ∏è</button>
                    </div>
                    <div style="position: relative; width: 100%;">
                        <input type="password" id="password-confirm" placeholder="Confirm password"
                            style="padding: 12px 45px 12px 12px; border-radius: 8px; border: 2px solid rgba(0,243,255,0.3); background: rgba(0,0,0,0.5); color: white; font-size: 1rem; text-align: center; width: 100%;">
                        <button type="button" class="toggle-password" data-target="password-confirm"
                            style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: rgba(0,243,255,0.1); border: 1px solid rgba(0,243,255,0.3); border-radius: 4px; color: #00f3ff; cursor: pointer; font-size: 1.2rem; padding: 4px 8px; pointer-events: all;">üëÅÔ∏è</button>
                    </div>
                    <div id="password-error" style="color: #ff5555; font-size: 0.85rem; display: none;"></div>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button id="password-cancel-btn" class="customize-button" style="flex: 1; background: #444;">Cancel</button>
                        <button id="password-save-btn" class="customize-button" style="flex: 1;">Save</button>
                    </div>
                </div>
            </div>

            <!-- Login Modal (for switching accounts with password) -->
            <div id="login-modal" class="screen">
                <h2>üîê Login to Account</h2>
                <p style="opacity: 0.7; margin-bottom: 1.5rem; font-size: 0.9rem;">This account is password protected</p>
                <div style="display: flex; flex-direction: column; gap: 1rem; width: 100%; max-width: 300px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px; font-family: monospace; font-size: 0.9rem;">
                        <span style="opacity: 0.6;">Account ID:</span><br>
                        <span id="login-account-id">...</span>
                    </div>
                    <div style="position: relative; width: 100%;">
                        <input type="password" id="login-password-input" placeholder="Enter password"
                            style="padding: 12px 45px 12px 12px; border-radius: 8px; border: 2px solid rgba(0,243,255,0.3); background: rgba(0,0,0,0.5); color: white; font-size: 1rem; text-align: center; width: 100%;">
                        <button type="button" class="toggle-password" data-target="login-password-input"
                            style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: rgba(0,243,255,0.1); border: 1px solid rgba(0,243,255,0.3); border-radius: 4px; color: #00f3ff; cursor: pointer; font-size: 1.2rem; padding: 4px 8px; pointer-events: all;">üëÅÔ∏è</button>
                    </div>
                    <div id="login-error" style="color: #ff5555; font-size: 0.85rem; display: none;"></div>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button id="login-cancel-btn" class="customize-button" style="flex: 1; background: #444;">Cancel</button>
                        <button id="login-submit-btn" class="customize-button" style="flex: 1;">Login</button>
                    </div>
                    <button id="forgot-password-btn" style="background: none; border: none; color: #00f3ff; cursor: pointer; font-size: 0.85rem; text-decoration: underline; pointer-events: all;">Forgot password? Use Recovery PIN</button>
                </div>
            </div>

            <!-- PIN Recovery Modal -->
            <div id="pin-recovery-modal" class="screen">
                <h2>üîë Account Recovery</h2>
                <p style="opacity: 0.7; margin-bottom: 1.5rem; font-size: 0.9rem;">Enter your Recovery PIN to reset your password</p>
                <div style="display: flex; flex-direction: column; gap: 1rem; width: 100%; max-width: 300px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px; font-family: monospace; font-size: 0.9rem;">
                        <span style="opacity: 0.6;">Account ID:</span><br>
                        <span id="recovery-account-id">...</span>
                    </div>
                    <input type="password" id="recovery-pin-verify" placeholder="Enter PIN" maxlength="6"
                        style="padding: 12px; border-radius: 8px; border: 2px solid rgba(0,243,255,0.3); background: rgba(0,0,0,0.5); color: white; font-size: 1.2rem; text-align: center; letter-spacing: 8px;">
                    <div id="recovery-error" style="color: #ff5555; font-size: 0.85rem; display: none;"></div>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button id="recovery-cancel-btn" class="customize-button" style="flex: 1; background: #444;">Cancel</button>
                        <button id="recovery-verify-btn" class="customize-button" style="flex: 1;">Verify PIN</button>
                    </div>
                </div>
            </div>

            <!-- Reset Password Modal (after PIN verified) -->
            <div id="reset-password-modal" class="screen">
                <h2>üîê Set New Password</h2>
                <p style="opacity: 0.7; margin-bottom: 1.5rem; font-size: 0.9rem;">PIN verified! Create a new password</p>
                <div style="display: flex; flex-direction: column; gap: 1rem; width: 100%; max-width: 300px;">
                    <div style="position: relative; width: 100%;">
                        <input type="password" id="reset-password-input" placeholder="New password (min 4 characters)"
                            style="padding: 12px 45px 12px 12px; border-radius: 8px; border: 2px solid rgba(0,243,255,0.3); background: rgba(0,0,0,0.5); color: white; font-size: 1rem; text-align: center; width: 100%;">
                        <button type="button" class="toggle-password" data-target="reset-password-input" 
                            style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: rgba(0,243,255,0.1); border: 1px solid rgba(0,243,255,0.3); border-radius: 4px; color: #00f3ff; cursor: pointer; font-size: 1.2rem; padding: 4px 8px; pointer-events: all;">üëÅÔ∏è</button>
                    </div>
                    <div style="position: relative; width: 100%;">
                        <input type="password" id="reset-password-confirm" placeholder="Confirm new password"
                            style="padding: 12px 45px 12px 12px; border-radius: 8px; border: 2px solid rgba(0,243,255,0.3); background: rgba(0,0,0,0.5); color: white; font-size: 1rem; text-align: center; width: 100%;">
                        <button type="button" class="toggle-password" data-target="reset-password-confirm"
                            style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: rgba(0,243,255,0.1); border: 1px solid rgba(0,243,255,0.3); border-radius: 4px; color: #00f3ff; cursor: pointer; font-size: 1.2rem; padding: 4px 8px; pointer-events: all;">üëÅÔ∏è</button>
                    </div>
                    <div id="reset-error" style="color: #ff5555; font-size: 0.85rem; display: none;"></div>
                    <button id="reset-save-btn" class="customize-button" style="margin-top: 1rem;">Save New Password</button>
                </div>
            </div>

            <!-- Switch Account Modal -->
            <div id="switch-account-modal" class="screen">
                <h2>üîÑ Switch Account</h2>
                <p style="opacity: 0.7; margin-bottom: 1.5rem; font-size: 0.9rem;">Enter your account credentials</p>
                <div style="display: flex; flex-direction: column; gap: 1rem; width: 100%; max-width: 300px;">
                    <div>
                        <label style="font-size: 0.85rem; opacity: 0.7; display: block; margin-bottom: 0.5rem; text-align: left;">Account ID</label>
                        <input type="text" id="switch-account-id" placeholder="Enter Account ID"
                            style="padding: 12px; border-radius: 8px; border: 2px solid rgba(0,243,255,0.3); background: rgba(0,0,0,0.5); color: white; font-size: 1rem; text-align: center; width: 100%; font-family: monospace;">
                    </div>
                    <div>
                        <label style="font-size: 0.85rem; opacity: 0.7; display: block; margin-bottom: 0.5rem; text-align: left;">Password</label>
                        <div style="position: relative; width: 100%;">
                            <input type="password" id="switch-password-input" placeholder="Enter password"
                                style="padding: 12px 45px 12px 12px; border-radius: 8px; border: 2px solid rgba(0,243,255,0.3); background: rgba(0,0,0,0.5); color: white; font-size: 1rem; text-align: center; width: 100%;">
                            <button type="button" class="toggle-password" data-target="switch-password-input"
                                style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: rgba(0,243,255,0.1); border: 1px solid rgba(0,243,255,0.3); border-radius: 4px; color: #00f3ff; cursor: pointer; font-size: 1.2rem; padding: 4px 8px; pointer-events: all;">üëÅÔ∏è</button>
                        </div>
                    </div>
                    <div id="switch-error" style="color: #ff5555; font-size: 0.85rem; display: none;"></div>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button id="switch-cancel-btn" class="customize-button" style="flex: 1; background: #444;">Cancel</button>
                        <button id="switch-login-btn" class="customize-button" style="flex: 1;">Login</button>
                    </div>
                    <button id="switch-forgot-btn" style="background: none; border: none; color: #00f3ff; cursor: pointer; font-size: 0.85rem; text-decoration: underline; pointer-events: all;">Forgot password?</button>
                    <p style="font-size: 0.75rem; opacity: 0.4; margin-top: 0.5rem;">Accounts without a password can be accessed with just the ID</p>
                </div>
            </div>

            <div id="level-select-screen" class="screen level-select-screen active">
                <div class="level-select-layout">
                    <!-- Quest Levels Section -->
                    <div class="level-section">
                        <h3 class="section-title">‚öîÔ∏è QUEST LEVELS</h3>
                        <div class="level-grid" id="quest-level-grid">
                            <button class="level-btn unlocked" data-level="1">
                                <div class="level-number">1</div>
                                <div class="level-name">Beginner</div>
                            </button>
                            <button class="level-btn locked" data-level="2">
                                <div class="level-number">2</div>
                                <div class="level-name">Easy</div>
                            </button>
                            <button class="level-btn locked" data-level="3">
                                <div class="level-number">3</div>
                                <div class="level-name">Medium</div>
                            </button>
                            <button class="level-btn locked" data-level="4">
                                <div class="level-number">4</div>
                                <div class="level-name">Hard</div>
                            </button>
                            <button class="level-btn locked" data-level="5">
                                <div class="level-number">5</div>
                                <div class="level-name">Expert</div>
                            </button>
                            <button class="level-btn locked" data-level="6">
                                <div class="level-number">6</div>
                                <div class="level-name">Insane</div>
                            </button>
                            <button class="level-btn locked" data-level="7">
                                <div class="level-number">7</div>
                                <div class="level-name">Demon</div>
                            </button>
                            <button class="level-btn locked" data-level="8">
                                <div class="level-number">8</div>
                                <div class="level-name">Void</div>
                            </button>
                            <button class="level-btn locked" data-level="9">
                                <div class="level-number">9</div>
                                <div class="level-name">Omega</div>
                            </button>
                            <button class="level-btn locked" data-level="10">
                                <div class="level-number">10</div>
                                <div class="level-name">Infinity</div>
                            </button>
                            <button class="level-btn locked" data-level="11">
                                <div class="level-number">11</div>
                                <div class="level-name">Abyss</div>
                            </button>
                            <button class="level-btn locked" data-level="12">
                                <div class="level-number">12</div>
                                <div class="level-name">Chaos</div>
                            </button>
                            <button class="level-btn locked" data-level="13">
                                <div class="level-number">13</div>
                                <div class="level-name">Nightmare</div>
                            </button>
                            <button class="level-btn locked" data-level="14">
                                <div class="level-number">14</div>
                                <div class="level-name">Oblivion</div>
                            </button>
                            <button class="level-btn locked" data-level="15">
                                <div class="level-number">15</div>
                                <div class="level-name">Cataclysm</div>
                            </button>
                            <button class="level-btn locked" data-level="16">
                                <div class="level-number">16</div>
                                <div class="level-name">Apocalypse</div>
                            </button>
                            <button class="level-btn locked" data-level="17">
                                <div class="level-number">17</div>
                                <div class="level-name">Armageddon</div>
                            </button>
                            <button class="level-btn locked" data-level="18">
                                <div class="level-number">18</div>
                                <div class="level-name">Extinction</div>
                            </button>
                            <button class="level-btn locked" data-level="19">
                                <div class="level-number">19</div>
                                <div class="level-name">Annihilation</div>
                            </button>
                            <button class="level-btn locked" data-level="20">
                                <div class="level-number">20</div>
                                <div class="level-name">Transcendence</div>
                            </button>
                            <button class="level-btn locked" data-level="21">
                                <div class="level-number">21</div>
                                <div class="level-name">Singularity</div>
                            </button>
                            <button class="level-btn locked" data-level="22">
                                <div class="level-number">22</div>
                                <div class="level-name">Paradox</div>
                            </button>
                            <button class="level-btn locked" data-level="23">
                                <div class="level-number">23</div>
                                <div class="level-name">Vortex</div>
                            </button>
                            <button class="level-btn locked" data-level="24">
                                <div class="level-number">24</div>
                                <div class="level-name">Eclipse</div>
                            </button>
                            <button class="level-btn locked" data-level="25">
                                <div class="level-number">25</div>
                                <div class="level-name">Supernova</div>
                            </button>
                            <button class="level-btn locked" data-level="26">
                                <div class="level-number">26</div>
                                <div class="level-name">Quantum</div>
                            </button>
                            <button class="level-btn locked" data-level="27">
                                <div class="level-number">27</div>
                                <div class="level-name">Eternity</div>
                            </button>
                            <button class="level-btn locked" data-level="28">
                                <div class="level-number">28</div>
                                <div class="level-name">Ragnarok</div>
                            </button>
                            <button class="level-btn locked" data-level="29">
                                <div class="level-number">29</div>
                                <div class="level-name">Godslayer</div>
                            </button>
                            <button class="level-btn locked" data-level="30">
                                <div class="level-number">30</div>
                                <div class="level-name">Ascension</div>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Unlimited Mode Section -->
                    <div class="level-section unlimited-section">
                        <h3 class="section-title">üèÜ UNLIMITED MODES</h3>
                        <p class="unlimited-desc">No finish line. How far can you go?</p>
                        <div class="unlimited-grid">
                            <button class="level-btn unlimited-btn unlocked" data-level="unlimited">
                                <div class="level-number">‚àû</div>
                                <div class="level-name">Unlimited</div>
                            </button>
                            <button class="level-btn hardcore-btn unlocked" data-level="hardcore">
                                <div class="level-number">üíÄ</div>
                                <div class="level-name">Hardcore</div>
                            </button>
                        </div>
                        <button id="leaderboard-btn" class="leaderboard-btn">üèÖ Leaderboard</button>
                        <p class="hardcore-desc">Hardcore: No powerups. No coins. Pure skill.</p>
                    </div>
                </div>
                
                <p class="back-hint">JumpHop v1.0</p>
            </div>

            <div id="game-over-screen" class="screen">
                <h2 style="color: var(--accent-color); margin-bottom: 2rem;">GAME OVER</h2>
                <div class="game-stats"
                    style="background: rgba(0,0,0,0.5); padding: 2rem; border-radius: 12px; border: 2px solid var(--accent-color); box-shadow: 0 0 30px rgba(255,0,85,0.3);">
                    <div
                        style="font-size: 1.5rem; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(255,255,255,0.2);">
                        <div style="opacity: 0.7; font-size: 1rem; margin-bottom: 0.5rem;">Score</div>
                        <span id="go-score"
                            style="color: var(--primary-color); font-size: 3rem; font-weight: 900;">0</span><span
                            style="font-size: 1.5rem; opacity: 0.7;"></span>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div>
                            <div style="opacity: 0.6; font-size: 0.9rem;">HIGH SCORE</div>
                            <div style="font-size: 2rem; color: #ffd700;">‚≠ê <span id="go-high-score">0</span></div>
                        </div>
                        <div>
                            <div style="opacity: 0.6; font-size: 0.9rem;">COINS EARNED</div>
                            <div style="font-size: 2rem; color: #ffd700;">ü™ô <span id="go-coins">0</span></div>
                        </div>
                    </div>
                </div>
                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button id="go-retry-btn" class="customize-button">Retry</button>
                    <button id="go-menu-btn" class="customize-button" style="background: #444;">Menu</button>
                </div>
            </div>

            <div id="level-complete-screen" class="screen">
                <h2>LEVEL COMPLETE!</h2>
                <p id="level-complete-message">Great job!</p>
                <button id="win-menu-btn" class="customize-button" style="margin-top: 2rem;">Back to Menu</button>
            </div>

            <div id="customize-screen" class="screen customize-screen">
                <div class="customize-header">
                    <h2>CUSTOMIZE</h2>
                    <div class="currency-displays">
                        <div class="coin-display">
                            <span class="coin-icon">ü™ô</span>
                            <span id="customize-coin-count">0</span>
                        </div>
                        <div class="hops-display">
                            <span class="hops-icon">üíé</span>
                            <span id="customize-hops-count">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="customize-layout">
                    <div class="preview-panel">
                        <div class="preview-label">PREVIEW</div>
                        <canvas id="preview-canvas" width="220" height="220"></canvas>
                        <div class="preview-glow"></div>
                        <div id="preview-ability" class="preview-ability" style="display: none;"></div>
                    </div>
                    
                    <div class="shop-panel">
                        <div class="shop-section">
                            <div class="section-header">
                                <span class="section-icon">üé®</span>
                                <h3>Colors</h3>
                            </div>
                            <div class="color-presets"></div>
                            <div class="custom-color-picker" id="custom-color-container">
                                <label for="color-input">Custom Color</label>
                                <div class="custom-color-right">
                                    <input type="color" id="color-input" value="#00f3ff">
                                    <button id="unlock-custom-color-btn" class="unlock-btn" style="display: none;">üîí 5,000</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="shop-section">
                            <div class="section-header">
                                <span class="section-icon">‚¨°</span>
                                <h3>Shapes</h3>
                            </div>
                            <div class="shape-grid"></div>
                        </div>
                        
                        <div class="shop-section">
                            <div class="section-header">
                                <span class="section-icon">üåÑ</span>
                                <h3>Backgrounds</h3>
                            </div>
                            <div class="background-grid"></div>
                        </div>
                        
                        <div class="shop-section skins-section">
                            <div class="section-header">
                                <span class="section-icon">üé≠</span>
                                <h3>Character Skins</h3>
                                <span class="dlc-badge">DLC</span>
                            </div>
                            <p class="skins-desc">Replace your cube with custom character sprites!</p>
                            <div class="skins-grid"></div>
                        </div>
                    </div>
                </div>
                
                <div class="customize-footer">
                    <button id="cust-back-btn" class="back-button">
                        <span>‚Üê</span> Back to Menu
                    </button>
                    <button id="cust-preview-btn" class="preview-button" style="display: none;">
                        <span>üëÅÔ∏è</span> Preview
                    </button>
                    <button id="cust-unlock-btn" class="unlock-button" style="display: none;">
                        <span>üîì</span> <span class="unlock-text">UNLOCK</span> <span id="unlock-price">0</span> ü™ô
                    </button>
                </div>
            </div>
            
            <!-- Rewards Screen -->
            <div id="rewards-screen" class="screen rewards-screen">
                <div class="rewards-header">
                    <h2>üìà LEVEL REWARDS</h2>
                    <div class="rewards-header-info">
                        <div class="rewards-level-box">Level <span id="rewards-level">1</span></div>
                        <div class="rewards-xp-container">
                            <div class="rewards-xp-bar">
                                <div class="rewards-xp-fill" id="rewards-xp-fill"></div>
                            </div>
                            <span class="rewards-xp-text" id="rewards-xp-text">0 / 1000 XP</span>
                        </div>
                        <div class="rewards-currencies">
                            <span class="rewards-currency">ü™ô <span id="rewards-coins">0</span></span>
                            <span class="rewards-currency hops">üíé <span id="rewards-hops">0</span></span>
                        </div>
                    </div>
                </div>
                
                <div class="rewards-tracks">
                    <!-- Free Track -->
                    <div class="rewards-track free-track">
                        <div class="track-header">üéÅ FREE REWARDS</div>
                        <div class="track-scroll-container">
                            <div class="track-items" id="free-rewards-grid"></div>
                        </div>
                    </div>
                    
                    <!-- VIP Track -->
                    <div class="rewards-track vip-track">
                        <div class="track-header">
                            <span>‚ú® VIP REWARDS</span>
                            <div class="vip-buttons">
                                <button id="unlock-vip-btn" class="vip-unlock-btn">Unlock üíé500</button>
                                <button id="unlock-vip-coins-btn" class="vip-unlock-btn coins-btn">Unlock ü™ô20,000</button>
                            </div>
                        </div>
                        <div class="track-scroll-container">
                            <div class="track-items" id="vip-rewards-grid"></div>
                        </div>
                    </div>
                </div>
                
                <div class="rewards-footer">
                    <button id="rewards-back-btn" class="back-button"><span>‚Üê</span> Back to Menu</button>
                    <p class="rewards-hint">üí° Earn XP by collecting coins and completing levels!</p>
                </div>
            </div>
            
            <!-- Background Preview Overlay -->
            <div id="bg-preview-overlay" class="bg-preview-overlay" style="display: none;">
                <div class="preview-instructions">
                    <p>Previewing Background</p>
                    <p class="preview-hint">Click anywhere or press any key to return</p>
                </div>
            </div>

            <div id="wasted-screen" class="screen">
                <h2 class="wasted-text">WASTED</h2>
            </div>

            <div id="current-level-display">LEVEL <span id="current-level-num">1</span></div>
            <div id="heart-container"></div>
            
            <!-- Toast Notification Container -->
            <div id="toast-container"></div>
        </div>
        <canvas id="game-canvas"></canvas>
        
        <!-- Leaderboard Modal -->
        <div id="leaderboard-modal" class="modal-overlay" style="display: none;">
            <div class="leaderboard-container">
                <div class="leaderboard-header">
                    <h2>üèÜ UNLIMITED MODE LEADERBOARD</h2>
                    <button id="leaderboard-close-btn" class="close-btn">‚úï</button>
                </div>
                <div class="leaderboard-tabs">
                    <button class="lb-tab active" data-mode="unlimited">‚àû Unlimited</button>
                    <button class="lb-tab" data-mode="hardcore">üíÄ Hardcore</button>
                </div>
                <div id="leaderboard-content" class="leaderboard-content">
                    <div class="leaderboard-loading">Loading...</div>
                </div>
                <div class="leaderboard-footer">
                    <div class="your-best">
                        <span>Your Best:</span>
                        <span id="your-best-score">0</span>
                    </div>
                    <div class="your-rank">
                        <span>Your Rank:</span>
                        <span id="your-rank">#--</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="./main.js"></script>
</body>

</html>
